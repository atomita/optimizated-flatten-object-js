{"version":3,"sources":["dist/flatten-object.js"],"names":["global","factory","exports","module","define","amd","flattenObject","this","target","separator","acc","targets","length","nexts","_loop_1","key","prefix_1","push","apply","Array","isArray","map","v","i","Object","entries","_a","k","_i","targets_1","optimizatedFlattenObjectTailCall"],"mappings":"CAAC,SAAUA,EAAQC,GACE,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,SACrD,mBAAXE,QAAyBA,OAAOC,IAAMD,QAAQ,WAAYH,GAChEA,EAASD,EAAOM,kBAHnB,CAIEC,KAAM,SAAWL,GAAW,aA+C5BA,EAAQI,cApCR,SAAuBE,EAAQC,EAAWC,GAGtC,YAFkB,IAAdD,IAAwBA,EAAY,UAC5B,IAARC,IAAkBA,MAClB,iBAAoBF,EACbE,EAIf,SAA0CC,EAASF,EAAWC,GAC1D,OAAa,CACT,GAAIC,EAAQC,OAAS,EACjB,OAAOF,EAiBX,IAfA,IAAIG,KACAC,EAAU,SAAUN,EAAQO,GAC5B,GAAI,iBAAoBP,EAAQ,CAC5B,IAAIQ,EAAWD,EAAM,GAAKA,EAAMN,EAAY,GAC5CI,EAAMI,KAAKC,MAAML,EAAOM,MAAMC,QAAQZ,GAChCA,EAAOa,IAAI,SAAUC,EAAGC,GAAK,OAAQD,EAAG,GAAKN,EAAWO,KACxDC,OAAOC,QAAQjB,GAAQa,IAAI,SAAUK,GACnC,IAAIC,EAAID,EAAG,GAAIJ,EAAII,EAAG,GACtB,OAAQJ,EAAG,GAAKN,EAAWW,WAInCjB,EAAIK,GAAOP,GAGVoB,EAAK,EAAGC,EAAYlB,EAASiB,EAAKC,EAAUjB,OAAQgB,IAAM,CAC/D,IAAIF,EAAKG,EAAUD,GAAKpB,EAASkB,EAAG,GAAIX,EAAMW,EAAG,GACjDZ,EAAQN,EAAQO,GAEpBJ,EAAUE,GA1BPiB,GAAmCtB,IAAUC,EAAWC","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.flattenObject = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\r\n   * Flatten a multi-dimensional object with separators.\r\n   *\r\n   * @typeparam {T extends {}}\r\n   * @param {any} target\r\n   * @param {string} separator\r\n   * @param {T} acc\r\n   * @return Object\r\n   */\r\n  function flattenObject(target, separator, acc) {\r\n      if (separator === void 0) { separator = '.'; }\r\n      if (acc === void 0) { acc = {}; }\r\n      if ('object' !== typeof target) {\r\n          return acc;\r\n      }\r\n      return optimizatedFlattenObjectTailCall([[target]], separator, acc);\r\n  }\r\n  function optimizatedFlattenObjectTailCall(targets, separator, acc) {\r\n      while (true) {\r\n          if (targets.length < 1) {\r\n              return acc;\r\n          }\r\n          var nexts = [];\r\n          var _loop_1 = function (target, key) {\r\n              if ('object' === typeof target) {\r\n                  var prefix_1 = key ? \"\" + key + separator : '';\r\n                  nexts.push.apply(nexts, Array.isArray(target)\r\n                      ? target.map(function (v, i) { return [v, \"\" + prefix_1 + i]; })\r\n                      : Object.entries(target).map(function (_a) {\r\n                          var k = _a[0], v = _a[1];\r\n                          return [v, \"\" + prefix_1 + k];\r\n                      }));\r\n              }\r\n              else {\r\n                  acc[key] = target;\r\n              }\r\n          };\r\n          for (var _i = 0, targets_1 = targets; _i < targets_1.length; _i++) {\r\n              var _a = targets_1[_i], target = _a[0], key = _a[1];\r\n              _loop_1(target, key);\r\n          }\r\n          targets = nexts;\r\n      }\r\n  }\n\n  exports.flattenObject = flattenObject;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]}